

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Running Simulations with the Simulation API &mdash; GridAPPS-D 2021_05.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Publishing and Subscribing with the Simulation API" href="3.6--Lesson-3.6--Controlling-Simulation-API.html" />
    <link rel="prev" title="Using the Configuration File API" href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GridAPPS-D
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation &amp; Runtime</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/windows10/index.html">Windows 10 Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.4--Lesson-1.4--Running-GridAPPS-D.html">Running GridAPPS-D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.5--Lesson-1.5--Using-GridAPPS-D-Viz.html">Using the GridAPPS-D Viz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.6--Lesson-1.6--Docker-Shortcuts.html">Docker Shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.7--Lesson-1.7--Cloud-Server-Configuration.html">Cloud Server Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.1--Lesson-2.1--Intro-to-GridAPPS-D.html">GridAPPS-D Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.2--Lesson-2.2--GridAPPS-D-Architecture.html">GridAPPS-D Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.3--Lesson-2.3--GridAPPS-D-Python-Library.html">GridAPPS-D Python Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.4--Lesson-2.4--GridAPPS-D-Application-Structure.html">GridAPPS-D Application Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.5--Lesson-2.5--GridAPPS-D-Service-Structure.html">GridAPPS-D Service Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.6--Lesson-2.6--Common-Information-Model.html">Introduction to the Common Information Model</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D API Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="3.1--Lesson-3.1--API-Communication-Channels.html">API Communication Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.2--Lesson-3.2--API-Message-Structure.html">API Message Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.3--Lesson-3.3--Using-the-PowerGrid-Models-API.html">Using the PowerGrid Models API</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html">Using the Configuration File API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running Simulations with the Simulation API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#1.-Introduction-to-the-Simulation-API">1. Introduction to the Simulation API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#2.-Using-the-Simulation-API">2. Using the Simulation API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#2.1.-Specifying-the-Topic">2.1. Specifying the Topic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#2.2.-Structure-of-a-Simulation-Message">2.2. Structure of a Simulation Message</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Starting-a-Simulation">3. Starting a Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#3.1.-Specify-the-GridAPPS-D-Topic">3.1. Specify the GridAPPS-D Topic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#3.2.-API-Message-Structure">3.2. API Message Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#3.2.1.-&quot;power_system_config&quot;:">3.2.1. <code class="docutils literal notranslate"><span class="pre">&quot;power_system_config&quot;:</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulation_config">simulation_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application_config">application_config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#3.2.4.-&quot;test_config&quot;:">3.2.4. <code class="docutils literal notranslate"><span class="pre">&quot;test_config&quot;:</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#test_config">test_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#3.2.5.-service_configs">3.2.5. <code class="docutils literal notranslate"><span class="pre">service_configs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#3.2.6.-Complete-Simulation-Message">3.2.6. Complete Simulation Message</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#3.3.-Starting-the-Simulation">3.3. Starting the Simulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#4.-Pausing,-Resuming,-or-Stopping-a-Simulation">4. Pausing, Resuming, or Stopping a Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#4.1.-Using-the-gridappsd.simulation-Python-Library">4.1. Using the <code class="docutils literal notranslate"><span class="pre">gridappsd.simulation</span></code> Python Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.2.-Using-a-Topic-and-Message">4.2. Using a Topic and Message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#4.2.1.-Specifying-the-Topic">4.2.1. Specifying the Topic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#4.2.2.-Pause-Message">4.2.2. Pause Message</a></li>
<li class="toctree-l4"><a class="reference internal" href="#4.2.3.-Resume-Message">4.2.3. Resume Message</a></li>
<li class="toctree-l4"><a class="reference internal" href="#4.2.4.-Resume-then-Pause-Message">4.2.4. Resume then Pause Message</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="3.6--Lesson-3.6--Controlling-Simulation-API.html">Publishing and Subscribing with the Simulation API</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.7--Lesson-3.7--Using-the-Timeseries-API.html">Timeseries API</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../applications/restoration-WSU/source/index.html">Resilient Restoration (WSU)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/VVO-WSU/README.html">Volt-Var Optimization (WSU)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/DER-dispatch-NREL/README.html">DER Dispatch (NREL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/solar-forecast-NREL/README.html">Solar Forecasting (NREL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/grid-forecast-NREL/README.html">Grid Forecasting (NREL)</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../services/dnp3/source/index.html">GridAPPS-D DNP3 Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/sensor-simulator/source/index.html">GridAPPS-D Sensor Simulator Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/voltage-violation/README.html">GridAPPS-D Voltage Violation Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/state-estimator/README.html">GridAPPS-D State Estimator Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/alarms/README.html">GridAPPS-D Alarm Service</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GridAPPS-D</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Running Simulations with the Simulation API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api_usage/3.5--Lesson-3.5--Creating-Running-Simulation-API.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Running-Simulations-with-the-Simulation-API">
<h1>Running Simulations with the Simulation API<a class="headerlink" href="#Running-Simulations-with-the-Simulation-API" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="1.-Introduction-to-the-Simulation-API">
<h2>1. Introduction to the Simulation API<a class="headerlink" href="#1.-Introduction-to-the-Simulation-API" title="Permalink to this headline">¶</a></h2>
<p>The Simulation API is used for all actions related to a power system simulation. It is used to start, pause, restart, and stop a simulation from the command line or inside an application. It is all used to subscribe to measurements of equipment (such as line flows, loads, and DG setpoints) and the statuses of switches, capacitors, transformer taps, etc. It is also used to publish equipment control and other simulation input commands.</p>
</div>
<hr class="docutils" />
<div class="section" id="2.-Using-the-Simulation-API">
<h2>2. Using the Simulation API<a class="headerlink" href="#2.-Using-the-Simulation-API" title="Permalink to this headline">¶</a></h2>
<div class="section" id="2.1.-Specifying-the-Topic">
<h3>2.1. Specifying the Topic<a class="headerlink" href="#2.1.-Specifying-the-Topic" title="Permalink to this headline">¶</a></h3>
<p>In the previous lessons all the queries passed to other APIs all used static <code class="docutils literal notranslate"><span class="pre">/queue/</span></code> channels to pass API calls to the GOSS message bus and the GridAPPS-D Platform.</p>
<p>However, the Simulation API is used to communicate with a broad range of subscribers. The list of topics covered by the Simulation API cover both static <code class="docutils literal notranslate"><span class="pre">/queue/</span></code> and dynamic <code class="docutils literal notranslate"><span class="pre">/topic/</span></code> communication channel names.</p>
<p>Extreme care is needed to use the correct topic. For a review of GridAPPS-D topics, see <a class="reference internal" href="3.1--Lesson-3.1--API-Communication-Channels.html"><span class="doc">API Communication Channels</span></a></p>
<p>The correct topic for each Simulation API call will be provided in the corresponding section for each API task below.</p>
<p><a class="reference external" href="#Table-of-Contents">Return to Top</a></p>
</div>
<div class="section" id="2.2.-Structure-of-a-Simulation-Message">
<h3>2.2. Structure of a Simulation Message<a class="headerlink" href="#2.2.-Structure-of-a-Simulation-Message" title="Permalink to this headline">¶</a></h3>
<p>Due to the wide range of tasks accomplished by the Simualtion API, there is no single message format that is used across all API Calls.</p>
<p>Each message takes the form of a python dictionary or equivalent JSON script wrapped as a python string.</p>
<p>The structure of each Simulation API call message will be provided in the corresponding section for each API task below.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="3.-Starting-a-Simulation">
<h2>3. Starting a Simulation<a class="headerlink" href="#3.-Starting-a-Simulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="3.1.-Specify-the-GridAPPS-D-Topic">
<h3>3.1. Specify the GridAPPS-D Topic<a class="headerlink" href="#3.1.-Specify-the-GridAPPS-D-Topic" title="Permalink to this headline">¶</a></h3>
<p>This is a static <code class="docutils literal notranslate"><span class="pre">/queue/</span></code> communication channel</p>
<p><strong>1) Specifying the topic as a string:</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">topic</span> <span class="o">=</span> <span class="s2">&quot;goss.gridappsd.process.request.simulation&quot;</span>
</pre></div>
</div>
</div>
<p><strong>2) Using the topics library to specify the topic:</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">gridappsd</span> <span class="kn">import</span> <span class="n">topics</span> <span class="k">as</span> <span class="n">t</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">REQUEST_SIMULATION</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3.2.-API-Message-Structure">
<h3>3.2. API Message Structure<a class="headerlink" href="#3.2.-API-Message-Structure" title="Permalink to this headline">¶</a></h3>
<p>To start a simulation from the command line or from inside an application, it is necessary to pass a message with a structure similar to that used by the <a class="reference internal" href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html"><span class="doc">Configuration File API</span></a>) so that the GridAPPS-D platform can create a custom GridLab-D file from the CIM XML model stored in the Blazegraph Database.</p>
<p>The accepted set of key-value pairs for the Simulation API call to start a new simulation is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>message = {
    &quot;power_system_config&quot;: {
        &quot;key1&quot;: &quot;value1&quot;,
        &quot;key2&quot;: &quot;value2&quot;},
    &quot;simulation_config&quot;: {
        &quot;key1&quot;: &quot;value1&quot;,
        &quot;key2&quot;: &quot;value2&quot;,
        &quot;model_creation_config&quot;: {
            &quot;key1&quot;: &quot;value1&quot;,
            &quot;key2&quot;: &quot;value2&quot;,
            &quot;model_state&quot;: {
                &quot;key1&quot;: &quot;value1&quot;,
                &quot;key2&quot;: &quot;value2&quot;}
            }
         },
    &quot;simulation_output&quot;: {
        &quot;key1&quot;: &quot;value1&quot;,
        &quot;key2&quot;: &quot;value2&quot;},
    &quot;application_config&quot;: [{
        &quot;key1&quot;: &quot;value1&quot;,
        &quot;key2&quot;: &quot;value2&quot;}],
    &quot;test_config&quot;: {
        &quot;events&quot;: [{,
            &quot;message&quot;: {
                &quot;forward_differences&quot;: [{
                    &quot;key1&quot;: &quot;value1&quot;,
                    &quot;key2&quot;: &quot;value2&quot;}]
                &quot;reverse_differences&quot;: [{
                    &quot;key1&quot;: &quot;value1&quot;,
                    &quot;key2&quot;: &quot;value2&quot;}],
            &quot;key1&quot;: &quot;value1&quot;,
            &quot;key2&quot;: &quot;value2&quot;}
            }]
    },
    &quot;service_configs&quot;: {
        &quot;key1&quot;: &quot;value1&quot;,
        &quot;key2&quot;: &quot;value2&quot;}
}
</pre></div>
</div>
<p>The components of the message are identical to the options in the tabs in the GridAPPS-D. Each key-value pair is explained in detail below.</p>
<p>The components of the message are as follows:</p>
<div class="section" id="3.2.1.-&quot;power_system_config&quot;:">
<h4>3.2.1. <code class="docutils literal notranslate"><span class="pre">&quot;power_system_config&quot;:</span></code><a class="headerlink" href="#3.2.1.-"power_system_config":" title="Permalink to this headline">¶</a></h4>
<p>This key is <strong>required</strong> and specifies the CIM XML model to be imported and used for the simulation. Required key-value pairs are</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;power_system_config&quot;: {   REQUIRED KEY                      REQUIRED VALUE
                     &quot;GeographicalRegion_name&quot;:           mRID as string ,
                     &quot;SubGeographicalRegion_name&quot;:        mRID as string ,
                     &quot;Line_name&quot;:                         mRID as string }
</pre></div>
</div>
<p>As can be seen, the required key-value pairs are identical to those that are selected graphically using the GridAPPS-D Viz:</p>
<p><img alt="model-config" src="api_usage/images/3.5/config_system_config.png" /></p>
<hr class="docutils" />
</div>
<div class="section" id="simulation_config">
<h4>simulation_config<a class="headerlink" href="#simulation_config" title="Permalink to this headline">¶</a></h4>
<p>This key is <strong>required</strong> and specifies the runtime parameters, such as simulation duration and time step. Required key-value pairs are</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;simulation_config&quot;: {   REQUIRED KEY                      REQUIRED VALUE
                    &quot;start_time&quot;:                    epoch time string ,
                    &quot;duration&quot;:                      number (seconds) ,
                    &quot;simulator&quot;:                     &quot;GridLAB-D&quot; ,
                    &quot;timestep_frequency&quot;:            number (milliseconds) ,
                    &quot;timestep_increment&quot;:            number (milliseconds) ,
                    &quot;run_realtime&quot;:                  true OR false ,
                    &quot;simulation_name&quot;:               string ,
                    &quot;power_flow_solver_method&quot;:      &quot;NR&quot; ,
                    &quot;model_creation_config&quot;:         key-value pairs }
</pre></div>
</div>
<p>The key <code class="docutils literal notranslate"><span class="pre">&quot;model_creation_config&quot;:</span></code> is one of the <strong>optional</strong> key-value pairs that can specified. This specifies the load profile and changes to the base case used for the simulation. Key-value pairs are</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;model_creation_config&quot;: { KEY                       VALUE
                    &quot;load_scaling_factor&quot;:             number ,
                    &quot;schedule_name&quot;:                   string ,
                    &quot;z_fraction&quot;:                      number ,
                    &quot;i_fraction&quot;:                      number ,
                    &quot;p_fraction&quot;:                      number ,
                    &quot;randomize_zipload_fractions&quot;:     true OR false ,
                    &quot;use_houses&quot;:                      true OR false ,
                    &quot;model_state&quot;:                     key-value pairs }
</pre></div>
</div>
<p>The key <code class="docutils literal notranslate"><span class="pre">&quot;model_state:&quot;</span></code> is one of the <strong>optional</strong> key-value pairs used to specify changes to switch positions and DER setpoints from the base case stored in the Blazegraph database. Key-value pairs are</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;model_state&quot;: {
                &quot;synchronousmachines&quot;:[
                        {&quot;name&quot;: &quot;GLM/DSS name&quot;,&quot;p&quot;: number,&quot;q&quot;: number},
                        {&quot;name&quot;: &quot;GLM/DSS name&quot;,&quot;p&quot;: number,&quot;q&quot;: number}],
                &quot;switches&quot;:[
                        {&quot;name&quot;:&quot;GLM/DSS name&quot;, &quot;open&quot;: true},
                        {&quot;name&quot;:&quot;GLM/DSS name&quot;, &quot;open&quot;: false}]
    }
</pre></div>
</div>
<p>As can be seen, the required key-value pairs are identical to those that are selected graphically using the GridAPPS-D Viz. By default, only the required key-value pairs are listed in the viz. The simulation launched in the Viz can be configured using any of the <code class="docutils literal notranslate"><span class="pre">&quot;model_creation_config&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;model_state&quot;</span></code> key-value pairs.</p>
<p><img alt="model-state-config" src="api_usage/images/3.5/config_sim_config.png" /></p>
<hr class="docutils" />
</div>
<div class="section" id="application_config">
<h4>application_config<a class="headerlink" href="#application_config" title="Permalink to this headline">¶</a></h4>
<p>This key is <strong>optional</strong> and specifies which applications will run during the simulation. The associated value is a list that specifies the name and application-specific configuration parameters.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;application_config&quot;: {
        &quot;applications&quot;: [
                {
                &quot;name&quot;: &quot;application1&quot;,
                &quot;config_string&quot;: &quot;application-specific config string&quot;
                },
                {
                &quot;name&quot;: &quot;application2&quot;,
                &quot;config_string&quot;: &quot;application-specific config string&quot;
                }]
}
</pre></div>
</div>
<p>As can be seen, the required key-value pairs are identical to those that are selected graphically using the GridAPPS-D Viz. Note: simulations started using the GridAPPS-D Viz can only run one app at a time. This is due to the GUI design and not a limitation of the Simulation API.</p>
<p><img alt="app-config" src="api_usage/images/3.5/config_app_config.png" /></p>
<hr class="docutils" />
</div>
</div>
<div class="section" id="3.2.4.-&quot;test_config&quot;:">
<h3>3.2.4. <code class="docutils literal notranslate"><span class="pre">&quot;test_config&quot;:</span></code><a class="headerlink" href="#3.2.4.-"test_config":" title="Permalink to this headline">¶</a></h3>
<div class="section" id="test_config">
<h4>test_config<a class="headerlink" href="#test_config" title="Permalink to this headline">¶</a></h4>
<p>This key is <strong>optional</strong> and specifies whether any pre-scripted events should be scheduled to occur during the simulation, such as faults, communication outages, and equipment malfunctions. The events use the format of a <strong>Difference Message</strong>, which will be covered in Lesson 3.XX (to be released soon). The key-value pairs are</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;test_config&quot;: {
        &quot;events&quot;: [{
            &quot;message&quot;: {
                &quot;forward_differences&quot;: [
                    {
                        &quot;object&quot;: &quot;control object mRID&quot;,
                        &quot;attribute&quot;: &quot;CIM Class Attribute&quot;,
                        &quot;value&quot;: number
                    }
                ],
                &quot;reverse_differences&quot;: [
                    {
                        &quot;object&quot;: &quot;control object mRID&quot;,
                        &quot;attribute&quot;: &quot;CIM Class Attribute&quot;,
                        &quot;value&quot;: number
                    }
                ]
            },
            &quot;event_type&quot;: &quot;ScheduledCommandEvent&quot;,
            &quot;occuredDateTime&quot;: epoch time number,
            &quot;stopDateTime&quot;: epoch time number
        }]
}
</pre></div>
</div>
<p>As can be seen, the required key-value pairs are identical to those that are selected graphically using the GridAPPS-D Viz. The Viz offers the equivalent options to create line faults, communications outages, or upload a custom difference message JSON file.</p>
<p><img alt="test-config" src="api_usage/images/3.5/config_test_config.png" /></p>
</div>
<div class="section" id="3.2.5.-service_configs">
<h4>3.2.5. <code class="docutils literal notranslate"><span class="pre">service_configs</span></code><a class="headerlink" href="#3.2.5.-service_configs" title="Permalink to this headline">¶</a></h4>
<p>This key is used to start a GridAPPS-D service, such as the Sensor Service, State Estimator, or DNP3 Service. The key-value pairs for starting the service depend on the particular service and will be covered in the lessons for each GridAPPS-D service.</p>
</div>
<div class="section" id="3.2.6.-Complete-Simulation-Message">
<h4>3.2.6. Complete Simulation Message<a class="headerlink" href="#3.2.6.-Complete-Simulation-Message" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span> <span class="n">run_config_123</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;power_system_config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;GeographicalRegion_name&quot;</span><span class="p">:</span> <span class="s2">&quot;_73C512BD-7249-4F50-50DA-D93849B89C43&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SubGeographicalRegion_name&quot;</span><span class="p">:</span> <span class="s2">&quot;_1CD7D2EE-3C91-3248-5662-A43EFEFAC224&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Line_name&quot;</span><span class="p">:</span> <span class="s2">&quot;_C1C3E687-6FFD-C753-582B-632A27E28507&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;application_config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;applications&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">&quot;simulation_config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;1570041113&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="s2">&quot;120&quot;</span><span class="p">,</span>
        <span class="s2">&quot;simulator&quot;</span><span class="p">:</span> <span class="s2">&quot;GridLAB-D&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestep_frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;1000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestep_increment&quot;</span><span class="p">:</span> <span class="s2">&quot;1000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;run_realtime&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;simulation_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ieee123&quot;</span><span class="p">,</span>
        <span class="s2">&quot;power_flow_solver_method&quot;</span><span class="p">:</span> <span class="s2">&quot;NR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model_creation_config&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;load_scaling_factor&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;schedule_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ieeezipload&quot;</span><span class="p">,</span>
            <span class="s2">&quot;z_fraction&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;i_fraction&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;p_fraction&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;randomize_zipload_fractions&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;use_houses&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;test_config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;events&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;forward_differences&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;object&quot;</span><span class="p">:</span> <span class="s2">&quot;_6C1FDA90-1F4E-4716-BC90-1CCB59A6D5A9&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;attribute&quot;</span><span class="p">:</span> <span class="s2">&quot;Switch.open&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;reverse_differences&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;object&quot;</span><span class="p">:</span> <span class="s2">&quot;_6C1FDA90-1F4E-4716-BC90-1CCB59A6D5A9&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;attribute&quot;</span><span class="p">:</span> <span class="s2">&quot;Switch.open&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s2">&quot;event_type&quot;</span><span class="p">:</span> <span class="s2">&quot;ScheduledCommandEvent&quot;</span><span class="p">,</span>
            <span class="s2">&quot;occuredDateTime&quot;</span><span class="p">:</span> <span class="mi">1570041140</span><span class="p">,</span>
            <span class="s2">&quot;stopDateTime&quot;</span><span class="p">:</span> <span class="mi">1570041200</span>
        <span class="p">}]</span>
    <span class="p">},</span>
     <span class="s2">&quot;service_configs&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;gridappsd-sensor-simulator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user_options&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;sensors-config&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;_99db0dc7-ccda-4ed5-a772-a7db362e9818&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;nominal-value&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                    <span class="s2">&quot;perunit-confidence-band&quot;</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
                    <span class="s2">&quot;aggregation-interval&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                    <span class="s2">&quot;perunit-drop-rate&quot;</span><span class="p">:</span> <span class="mf">0.01</span>
                <span class="p">},</span>
                <span class="s2">&quot;_ee65ee31-a900-4f98-bf57-e752be924c4d&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="s2">&quot;_f2673c22-654b-452a-8297-45dae11b1e14&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">},</span>
            <span class="s2">&quot;random-seed&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;default-aggregation-interval&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="s2">&quot;passthrough-if-not-specified&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;default-perunit-confidence-band&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
            <span class="s2">&quot;default-perunit-drop-rate&quot;</span><span class="p">:</span> <span class="mf">0.05</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="3.3.-Starting-the-Simulation">
<h3>3.3. Starting the Simulation<a class="headerlink" href="#3.3.-Starting-the-Simulation" title="Permalink to this headline">¶</a></h3>
<p>To start the simulation, we import the <code class="docutils literal notranslate"><span class="pre">gridappsd.simulation</span></code> library, which provides multiple shortcut functions for running and controlling a simulation.</p>
<p>The python dictionary created in the previous section is then passed as an argument to Simulation object. The <code class="docutils literal notranslate"><span class="pre">.start_simulation()</span></code> method is then used to pass the Simulation API call to the GOSS Message Bus and the GridAPPS-D Platform.</p>
<p>The simulation id can be obtained by invoking the <code class="docutils literal notranslate"><span class="pre">.simulation_id</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">gridappsd</span> <span class="kn">import</span> <span class="n">GridAPPSD</span>
<span class="kn">from</span> <span class="nn">gridappsd.simulation</span> <span class="kn">import</span> <span class="n">Simulation</span>

<span class="n">gapps_sim</span> <span class="o">=</span> <span class="n">GridAPPSD</span><span class="p">()</span>
<span class="n">simulation</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">gapps_sim</span><span class="p">,</span> <span class="n">run_config_123</span><span class="p">)</span>
<span class="n">simulation</span><span class="o">.</span><span class="n">start_simulation</span><span class="p">()</span>

<span class="n">simulation_id</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">simulation_id</span>
<span class="nb">print</span><span class="p">(</span><span class="n">simulation_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="4.-Pausing,-Resuming,-or-Stopping-a-Simulation">
<h2>4. Pausing, Resuming, or Stopping a Simulation<a class="headerlink" href="#4.-Pausing,-Resuming,-or-Stopping-a-Simulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="4.1.-Using-the-gridappsd.simulation-Python-Library">
<h3>4.1. Using the <code class="docutils literal notranslate"><span class="pre">gridappsd.simulation</span></code> Python Library<a class="headerlink" href="#4.1.-Using-the-gridappsd.simulation-Python-Library" title="Permalink to this headline">¶</a></h3>
<p>For simulations that are started using the <code class="docutils literal notranslate"><span class="pre">.start_simulation()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">gridappsd.simulation</span></code> python library, it is possible to use the associated methods to pause, resume, and stop simulations.</p>
<p>The library provides the following methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.pause()</span></code> – Pause the simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.resume()</span></code> – Resume the simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.resume_pause_at(pause_in)</span></code> – Resume the simulation, and then pause it in so many seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.stop()</span></code> – Stop the simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.run_loop()</span></code> – Loop the entire simulation until interrupted</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">gridappsd.simulation</span></code> library also provides four types of events that can be registered: ontimestep, onmeasurement, oncomplete, and onstart. To register one of the events call the method <code class="docutils literal notranslate"><span class="pre">.add_ontimestep_callback</span></code>, <code class="docutils literal notranslate"><span class="pre">.add_onmesurement_callback</span></code>, <code class="docutils literal notranslate"><span class="pre">.add_oncomplete_callback</span></code>, or <code class="docutils literal notranslate"><span class="pre">.add_onstart_callback</span></code> method respectively.</p>
<p><strong>Use of these methods will be covered in a later release of this training notebook.</strong></p>
<p><a class="reference external" href="#Table-of-Contents">Return to Top</a></p>
</div>
<div class="section" id="4.2.-Using-a-Topic-and-Message">
<h3>4.2. Using a Topic and Message<a class="headerlink" href="#4.2.-Using-a-Topic-and-Message" title="Permalink to this headline">¶</a></h3>
<p>If the simulation was started using the GridAPPS-D Viz, then pause, resume, and stop commands need to be issued using a topic and message.</p>
<div class="section" id="4.2.1.-Specifying-the-Topic">
<h4>4.2.1. Specifying the Topic<a class="headerlink" href="#4.2.1.-Specifying-the-Topic" title="Permalink to this headline">¶</a></h4>
<p>This is a dynamic <code class="docutils literal notranslate"><span class="pre">/topic/</span></code> communication channel that is best implemented by importing the GriAPPSD-Python library function for generating the correct topic.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">viz_simulation_id</span> <span class="o">=</span> <span class="s2">&quot;459298943&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">gridappsd.topics</span> <span class="kn">import</span> <span class="n">simulation_input_topic</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">simulation_input_topic</span><span class="p">(</span><span class="n">viz_simulation_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.2.2.-Pause-Message">
<h4>4.2.2. Pause Message<a class="headerlink" href="#4.2.2.-Pause-Message" title="Permalink to this headline">¶</a></h4>
<p>The simulation can be paused using a very simple pause message. Since no response is expected from the Simulation API, we used the <code class="docutils literal notranslate"><span class="pre">.send(topic,</span> <span class="pre">message)</span></code> method for the GridAPPS-D connection object.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;pause&quot;</span><span class="p">}</span>
<span class="n">gapps</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.2.3.-Resume-Message">
<h4>4.2.3. Resume Message<a class="headerlink" href="#4.2.3.-Resume-Message" title="Permalink to this headline">¶</a></h4>
<p>The simulation can be resumed using a very simple message. Since no response is expected from the Simulation API, we used the <code class="docutils literal notranslate"><span class="pre">.send(topic,</span> <span class="pre">message)</span></code> method for the GridAPPS-D connection object.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;resume&quot;</span><span class="p">}</span>
<span class="n">gapps</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.2.4.-Resume-then-Pause-Message">
<h4>4.2.4. Resume then Pause Message<a class="headerlink" href="#4.2.4.-Resume-then-Pause-Message" title="Permalink to this headline">¶</a></h4>
<p>The simulation can be resumed and then paused using a very simple message. Since no response is expected from the Simulation API, we used the <code class="docutils literal notranslate"><span class="pre">.send(topic,</span> <span class="pre">message)</span></code> method for the GridAPPS-D connection object.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;resumePauseAt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;pauseIn&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">gapps</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="3.6--Lesson-3.6--Controlling-Simulation-API.html" class="btn btn-neutral float-right" title="Publishing and Subscribing with the Simulation API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html" class="btn btn-neutral float-left" title="Using the Configuration File API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2021, Battelle Memorial Institute, All rights reserved..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>