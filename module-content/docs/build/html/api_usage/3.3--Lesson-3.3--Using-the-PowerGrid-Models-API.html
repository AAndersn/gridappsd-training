

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Using the PowerGrid Models API &mdash; GridAPPS-D 2021_05.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using the Configuration File API" href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html" />
    <link rel="prev" title="API Message Structure" href="3.2--Lesson-3.2--API-Message-Structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GridAPPS-D
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation &amp; Runtime</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/windows10/index.html">Windows 10 Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.4--Lesson-1.4--Running-GridAPPS-D.html">Running GridAPPS-D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.5--Lesson-1.5--Using-GridAPPS-D-Viz.html">Using the GridAPPS-D Viz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.6--Lesson-1.6--Docker-Shortcuts.html">Docker Shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/1.7--Lesson-1.7--Cloud-Server-Configuration.html">Cloud Server Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.1--Lesson-2.1--Intro-to-GridAPPS-D.html">GridAPPS-D Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.2--Lesson-2.2--GridAPPS-D-Architecture.html">GridAPPS-D Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.3--Lesson-2.3--GridAPPS-D-Python-Library.html">GridAPPS-D Python Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.4--Lesson-2.4--GridAPPS-D-Application-Structure.html">GridAPPS-D Application Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.5--Lesson-2.5--GridAPPS-D-Service-Structure.html">GridAPPS-D Service Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/2.6--Lesson-2.6--Common-Information-Model.html">Introduction to the Common Information Model</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D API Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="3.1--Lesson-3.1--API-Communication-Channels.html">API Communication Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.2--Lesson-3.2--API-Message-Structure.html">API Message Structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the PowerGrid Models API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#1.-Introduction-to-the-PowerGrid-Model-API">1. Introduction to the PowerGrid Model API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#API-Syntax-Overview">API Syntax Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#2.1.-API-Communication-Channel">2.1. API Communication Channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#2.2.-Structure-of-a-Query-Message">2.2. Structure of a Query Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="#2.3.-Specifying-the-requestType">2.3. Specifying the <code class="docutils literal notranslate"><span class="pre">requestType</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Querying-for-Feeder-Model-Info">3. Querying for Feeder Model Info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#3.1.-Query-for-mRIDs-of-all-Models">3.1. Query for mRIDs of all Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="#3.2.-Query-for-Details-Dictionary-of-all-Models">3.2. Query for Details Dictionary of all Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#4.-Querying-for-Object-Info">4. Querying for Object Info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model">4.1. Query for CIM Classes of Objects in Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.2.-Query-for-mRIDs-of-Objects-in-a-Feeder">4.2. Query for mRIDs of Objects in a Feeder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.3.-Query-for-CIM-Attributes-of-an-Object">4.3. Query for CIM Attributes of an Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.4.-Query-for-Object-Dictionary">4.4. Query for Object Dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#5.-Querying-for-Object-Measurements">5. Querying for Object Measurements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#5.1.-Object-mRIDs-vs-Measurement-mRIDs">5.1. Object mRIDs vs Measurement mRIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#5.2.-Querying-for-Measurements">5.2. Querying for Measurements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#5.3.-Filtering-Returned-Data">5.3. Filtering Returned Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#6.-GridAPPSD-Python-Shortcut-Methods">6. GridAPPSD-Python Shortcut Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#6.1.-Querying-for-mRIDs-of-all-Models">6.1. Querying for mRIDs of all Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="#6.2.-Query-for-CIM-Classes-of-Objects-in-Model">6.2. Query for CIM Classes of Objects in Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#6.3.-Query-for-CIM-Attributes-of-an-Object">6.3. Query for CIM Attributes of an Object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#7.-Available-Models-in-Default-Installation">7. Available Models in Default Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#7.1.-IEEE-13-Node-Model">7.1. IEEE 13 Node Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.2.-IEEE-123-Node-Model">7.2. IEEE 123 Node Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.3.-IEEE-123-Node-Model-with-PV">7.3. IEEE 123 Node Model with PV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.4.-IEEE-8500-Node-Model">7.4. IEEE 8500 Node Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.5.-9500-Node-Test-System">7.5. 9500 Node Test System</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.6.-PNNL-Taxonomy-Feeder">7.6. PNNL Taxonomy Feeder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.7.-EPRI-J1-Feeder">7.7. EPRI J1 Feeder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#7.8.-UAF-Microgrid">7.8. UAF Microgrid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Adding-New-Models-to-GridAPPS-D">Adding New Models to GridAPPS-D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Adding-New-Models-to-the-PowerGrid-Models-GitHub-Repo">Adding New Models to the PowerGrid Models GitHub Repo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html">Using the Configuration File API</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.5--Lesson-3.5--Creating-Running-Simulation-API.html">Running Simulations with the Simulation API</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.6--Lesson-3.6--Controlling-Simulation-API.html">Publishing and Subscribing with the Simulation API</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.7--Lesson-3.7--Using-the-Timeseries-API.html">Timeseries API</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../applications/restoration-WSU/source/index.html">Resilient Restoration (WSU)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/VVO-WSU/README.html">Volt-Var Optimization (WSU)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/DER-dispatch-NREL/README.html">DER Dispatch (NREL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/solar-forecast-NREL/README.html">Solar Forecasting (NREL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications/grid-forecast-NREL/README.html">Grid Forecasting (NREL)</a></li>
</ul>
<p class="caption"><span class="caption-text">GridAPPS-D Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../services/dnp3/source/index.html">GridAPPS-D DNP3 Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/sensor-simulator/source/index.html">GridAPPS-D Sensor Simulator Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/voltage-violation/README.html">GridAPPS-D Voltage Violation Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/state-estimator/README.html">GridAPPS-D State Estimator Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/alarms/README.html">GridAPPS-D Alarm Service</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GridAPPS-D</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Using the PowerGrid Models API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api_usage/3.3--Lesson-3.3--Using-the-PowerGrid-Models-API.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Using-the-PowerGrid-Models-API">
<h1>Using the PowerGrid Models API<a class="headerlink" href="#Using-the-PowerGrid-Models-API" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="section" id="1.-Introduction-to-the-PowerGrid-Model-API">
<h2>1. Introduction to the PowerGrid Model API<a class="headerlink" href="#1.-Introduction-to-the-PowerGrid-Model-API" title="Permalink to this headline">¶</a></h2>
<p>The PowerGrid Models API is used to pull model information from the Blazegraph Database, inlcuding the names, mRIDs, measurements, and nominal values of power system equipment in the feeder (such as lines, loads, switches, transformers, and DERs).</p>
<p>In the Application Components diagram (explained in detail with sample code in <a class="reference internal" href="../overview/2.4--Lesson-2.4--GridAPPS-D-Application-Structure.html"><span class="doc">GridAPPS-D Application Structure</span></a>), the PowerGrid Models API is used for querying for the power system model and querying for model measurement MRIDs.</p>
<p><img alt="power grid models" src="../_images/power_grid_models_usage.png" /></p>
<hr class="docutils" />
</div>
<div class="section" id="API-Syntax-Overview">
<h2>API Syntax Overview<a class="headerlink" href="#API-Syntax-Overview" title="Permalink to this headline">¶</a></h2>
<p><strong>Application passes query to GridAPPS-D Platform</strong></p>
<p>First, the application creates a query message for requesting information about the desired power system components in the format of a JSON string or equivalant Python dictionary object. The syntax of this message is explained in detail below.</p>
<p>The query is sent using <code class="docutils literal notranslate"><span class="pre">gapps.get_response(topic,</span> <span class="pre">message)</span></code> with a response expected back from the platform within the specified timeout period.</p>
<p>The application then passes the query through the PowerGrid Models API to the GridAPPS-D Platform, which publishes it to the <code class="docutils literal notranslate"><span class="pre">goss.gridappsd.process.request.data.powergridmodel</span></code> queue channel on the GOSS Message Bus. If the app is authenticated and authorized to pass queries, the query message is delivered to the data managers, which obtain the desired information from the Blazegraph Database.</p>
<p><strong>GridAPPS-D Platform responds to Application query</strong></p>
<p>The data managers then publish the response from the Blazegraph Database to the appropriate queue channel. The PowerGrid Models API then returns the desired information back to the application as a JSON message or equivalant Python dictionary object.</p>
<div class="section" id="2.1.-API-Communication-Channel">
<h3>2.1. API Communication Channel<a class="headerlink" href="#2.1.-API-Communication-Channel" title="Permalink to this headline">¶</a></h3>
<p>All queries passed to the PowerGrid Models API need to use the correct communication channel, which is obtained using the <a class="reference internal" href="3.1--Lesson-3.1--API-Communication-Channels.html"><span class="doc">GridAPPS-D Topics library</span></a>.</p>
<p>The PowerGrid Model API uses a <code class="docutils literal notranslate"><span class="pre">/queue/</span></code> channel to pull power system model info from the the Blazegraph Database. The base static string used is <code class="docutils literal notranslate"><span class="pre">goss.gridappsd.process.request.data.powergridmodel</span></code>, which can be called using the <code class="docutils literal notranslate"><span class="pre">.REQUEST_POWERGRID_DATA</span></code> or <code class="docutils literal notranslate"><span class="pre">.BLAZEGRAPH</span></code> methods from the topics library.</p>
<p>When developing in python, it is recommended to use the <code class="docutils literal notranslate"><span class="pre">.REQUEST_POWERGRID_DATA</span></code> method. When using the STOMP client in GridAPPS-D VIZ, it is necessary to use the base static string.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">gridappsd</span> <span class="kn">import</span> <span class="n">topics</span> <span class="k">as</span> <span class="n">t</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">REQUEST_POWERGRID_DATA</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2.2.-Structure-of-a-Query-Message">
<h3>2.2. Structure of a Query Message<a class="headerlink" href="#2.2.-Structure-of-a-Query-Message" title="Permalink to this headline">¶</a></h3>
<p>Queries passed to PowerGrid Models API are formatted as python dictionaries or equivalent JSON scripts wrapped as a python string.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>message = {
    &quot;requestType&quot;: &quot;INSERT QUERY HERE&quot;,
    &quot;resultFormat&quot;: &quot;JSON&quot;,
    &quot;modelId&quot;: &quot;OPTIONAL INSERT MODEL mRID HERE&quot;,
    &quot;objectType&quot;: &quot;OPTIONAL INSERT CIM CLASS HERE&quot;,
    &quot;objectId&quot;: &quot;OPTIONAL INSERT OBJECT mRID HERE&quot;,
    &quot;filter&quot;: &quot;OPTIONAL INSERT SPARQL FILTER HERE&quot;
}
</pre></div>
</div>
<p>The components of the message are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span></code> – Specifies the type of query. Available requestType are listed in the next section.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – Specifies the format of the response, can be <code class="docutils literal notranslate"><span class="pre">&quot;JSON&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;CSV&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;XML&quot;</span></code>. (CAUTION: the PowerGridModel API uses the key <em>resultFormat</em>, while the Timeseries API uses the key <em>reponseFormat</em>. Using the wrong key for either API will result in a java.lang error.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelID&quot;:</span></code> – Optional. Used to filter the query to only one particular model whose mRID is specified. Be aware of spelling and capitalization differences between JSON query spelling <code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;</span></code> and Python Library spelling <code class="docutils literal notranslate"><span class="pre">model_id</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span></code> – Optional. Used to filter the query to only one CIM class of equipment. Speciying the <em>objectID</em> will override any values specified for <em>objectType</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectID&quot;:</span></code> – Optional. Used to filter the query to only one object whose mRID is specified. Specifying the <em>objectID</em> will override any values specified for <em>objectType</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;filter&quot;:</span></code> – Optional. Used to filter the query using a SPARQL filter. SPARQL queries are covered in the next lesson.</p></li>
</ul>
<p>The usage of each of these message components are explained in detail with code block examples below.</p>
<p><strong>Important</strong>: Be sure to pay attention to placement of commas ( <strong>,</strong> ) at the end of each JSON line. Commas are placed at the end of each line <em>except</em> the last line. Incorrect comma placement will result in a JsonSyntaxException.</p>
<p>All of the queries are passed to the PowerGrid Model API using the <code class="docutils literal notranslate"><span class="pre">.get_response(topic,</span> <span class="pre">message)</span></code> method for the GridAPPS-D platform connection variable.</p>
</div>
<div class="section" id="2.3.-Specifying-the-requestType">
<h3>2.3. Specifying the <code class="docutils literal notranslate"><span class="pre">requestType</span></code><a class="headerlink" href="#2.3.-Specifying-the-requestType" title="Permalink to this headline">¶</a></h3>
<p>Below are the possible <code class="docutils literal notranslate"><span class="pre">requestType</span></code> strings that are used to specify the type of each query. Executable code block examples are provided for each of the requests in the subsections below.</p>
<p>The first group of <em>requestType</em> key-value pairs are for queries for information related to the entire model or a set of models, such as the model name, mRID, region, and substation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_MODEL_NAMES&quot;</span></code> – <a class="reference external" href="#3.1.-Query-for-mRIDs-of-all-Models">Query for the list of all model name mRIDs</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_MODEL_INFO&quot;</span></code> – <a class="reference external" href="#3.2.-Query-for-Details-Dictionary-of-all-Models">Query for the dictionary of all details for all feeders in Blazegraph</a></p></li>
</ul>
<p>The second group of <em>requestType</em> key-value pairs are for queries for a single object or a single class of objects withing a model, such as the object mRID, CIM attributes, or measurement points:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_TYPES&quot;</span></code> – <a class="reference external" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model">Query for the types of CIM classes of objects in the model</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_IDS&quot;</span></code> – <a class="reference external" href="#4.2.-Query-for-mRIDs-of-Objects-in-a-Feeder">Query for a list of all mRIDs for objects of a CIM class in the model</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT&quot;</span></code> – <a class="reference external" href="#4.3.-Query-for-CIM-Attributes-of-an-Object">Query for CIM attributes of an object using its unique mRID</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_DICT&quot;</span></code> – <a class="reference external" href="#4.4.-Query-for-Object-Dictionary">Query for the dictionary of all details for an object using either its *objectType* OR its *objectID*</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_MEASUREMENTS&quot;</span></code> – <a class="reference external" href="#5.2.-Querying-for-Measurements">Query for all measurement types and mRIDs for an object using either its *objectType* OR its *ObjectID*</a></p></li>
</ul>
<p>The third group of <em>requestType</em> key-value pairs are for queries based on SPARQL filters or complete SPARQL queries. The structure of SPARQL was introduced in Lesson 1.7 (to be completed soon). Usage of these two <em>requestType</em> will covered separately in the next two lessons.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_MODEL&quot;</span></code> – Query for all part of a specified model, filtered by object type using a SPARQL filter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY&quot;</span></code> – Query using a complete SPARQL query.</p></li>
</ul>
<hr class="docutils" />
</div>
</div>
<div class="section" id="3.-Querying-for-Feeder-Model-Info">
<h2>3. Querying for Feeder Model Info<a class="headerlink" href="#3.-Querying-for-Feeder-Model-Info" title="Permalink to this headline">¶</a></h2>
<p>This section outlines the pre-built JSON queries that can be passed to the PowerGrid Model API to obtain mRIDs and other information for all models and feeders stored in the Blazegraph Database.</p>
<div class="section" id="3.1.-Query-for-mRIDs-of-all-Models">
<h3>3.1. Query for mRIDs of all Models<a class="headerlink" href="#3.1.-Query-for-mRIDs-of-all-Models" title="Permalink to this headline">¶</a></h3>
<p>This query obtains a list of all the model MRIDs stored in the Blazegraph database.</p>
<p>Query requestType:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_MODEL_NAMES&quot;</span></code></p></li>
</ul>
<p>Allowed parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – “XML” / “JSON” / “CSV” – Optional. Will return results as a list in the format selected.</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_MODEL_NAMES&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><a class="reference external" href="#Table-of-Contents">Return to Top</a></p>
</div>
<div class="section" id="3.2.-Query-for-Details-Dictionary-of-all-Models">
<h3>3.2. Query for Details Dictionary of all Models<a class="headerlink" href="#3.2.-Query-for-Details-Dictionary-of-all-Models" title="Permalink to this headline">¶</a></h3>
<p>This query returns a list of names and MRIDs for all models, substations, subregions, and regions for all available feeders stored in the Blazegraph database.</p>
<p>Query requestType:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_MODEL_INFO&quot;</span></code></p></li>
</ul>
<p>Allowed parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_MODEL_INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
</div>
</div>
<div class="section" id="4.-Querying-for-Object-Info">
<h2>4. Querying for Object Info<a class="headerlink" href="#4.-Querying-for-Object-Info" title="Permalink to this headline">¶</a></h2>
<p>This section outlines the pre-built JSON queries that can be passed to the PowerGrid Model API to obtain mRIDs and other information for a particular object or a class of objects for one or more feeders stored in the Blazegraph Database.</p>
<p>All of the examples in this section use the IEEE 13 node model. The python constructor %s is used for all queries to enable the code block to be cut and paste into any python script without needing to change the model mRID.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">model_mrid</span> <span class="o">=</span> <span class="s2">&quot;_49AD8E07-3BF9-A4E2-CB8F-C3722F837B62&quot;</span> <span class="c1"># IEEE 13 Node used for all example queries</span>
</pre></div>
</div>
</div>
<div class="section" id="4.1.-Query-for-CIM-Classes-of-Objects-in-Model">
<h3>4.1. Query for CIM Classes of Objects in Model<a class="headerlink" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model" title="Permalink to this headline">¶</a></h3>
<p>This query is used to query for a list of all the CIM XML classes of objects present in the Blazegraph for a particular model or all models in the database.</p>
<p>Query requestType is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_TYPES&quot;</span></code></p></li>
</ul>
<p>Allowed parameters are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;:</span></code> “model name mRID” – Optional. Searches only the particular model identified by the given unique mRID</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
__1) Query entire Blazegraph database__

Omit the `"modelId"` parameter to search the entire blazegraph database.<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_TYPES&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>2) Query for only a particular model</strong></p>
<p>Specify the model MRID as a python string and pass it as a parameter to the method to return only the CIM classes of objects in that particular model.</p>
<p>Be aware of spelling and capitalization differences between JSON query spelling <code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;</span></code> and Python Library spelling <code class="docutils literal notranslate"><span class="pre">model_id</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_TYPES&quot;</span><span class="p">,</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.2.-Query-for-mRIDs-of-Objects-in-a-Feeder">
<h3>4.2. Query for mRIDs of Objects in a Feeder<a class="headerlink" href="#4.2.-Query-for-mRIDs-of-Objects-in-a-Feeder" title="Permalink to this headline">¶</a></h3>
<p>This query is used to obtain all the mRIDs of objects of a particular CIM class in the feeder.</p>
<p>Query responseType is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_IDS&quot;</span></code></p></li>
</ul>
<p>Allowed parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;:</span></code> “model name mRID” – When specified it searches against that model, if empty it will search against all models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span></code> “CIM Class” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
<p>Within a particular feeder, it is possible to query for objects of all the CIM classes obtained using <code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_TYPES&quot;</span></code> (discussed above in <a class="reference external" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model">Section 4.1</a>). Note that the RDF URI is not included in the query, only the name of the class, such as <code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span> <span class="pre">&quot;ACLineSegment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span> <span class="pre">&quot;LoadBreakSwitch&quot;</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_IDS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;objectType&quot;</span><span class="p">:</span> <span class="s2">&quot;LoadBreakSwitch&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">response_obj</span> <span class="o">=</span> <span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">response_obj</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">switch_mrids</span> <span class="o">=</span> <span class="n">response_obj</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;objectIds&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.3.-Query-for-CIM-Attributes-of-an-Object">
<h3>4.3. Query for CIM Attributes of an Object<a class="headerlink" href="#4.3.-Query-for-CIM-Attributes-of-an-Object" title="Permalink to this headline">¶</a></h3>
<p>This query is used to obtain all the attributes and mRIDs of those attributes for a particular object whose mRID is specified.</p>
<p>Query responseType is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT&quot;</span></code></p></li>
</ul>
<p>Allowed parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;:</span></code> “model name mRID” – When specified it searches against that model, if empty it will search against all models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectId&quot;:</span></code> “object mRID” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> – “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
<p>Within a particular feeder, it is possible to query for objects of all the CIM classes obtained using <code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_TYPES&quot;</span></code> (discussed above in <a class="reference external" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model">Section 4.1</a>). Note that the RDF URI is not included in the query, only the name of the class, such as <code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span> <span class="pre">&quot;ACLineSegment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span> <span class="pre">&quot;LoadBreakSwitch&quot;</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">object_mrid</span> <span class="o">=</span> <span class="s2">&quot;_2858B6C2-0886-4269-884C-06FA8B887319&quot;</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">{</span>
<span class="s2">        &quot;requestType&quot;: &quot;QUERY_OBJECT&quot;,</span>
<span class="s2">        &quot;resultFormat&quot;: &quot;JSON&quot;,</span>
<span class="s2">        &quot;modelId&quot;: &quot;</span><span class="si">%s</span><span class="s2">&quot;,</span>
<span class="s2">        &quot;objectId&quot;: &quot;</span><span class="si">%s</span><span class="s2">&quot;</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">model_mrid</span><span class="p">,</span> <span class="n">object_mrid</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
        <span class="s2">&quot;objectId&quot;</span><span class="p">:</span> <span class="s2">&quot;_4F76A5F9-271D-9EB8-5E31-AA362D86F2C3&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4.4.-Query-for-Object-Dictionary">
<h3>4.4. Query for Object Dictionary<a class="headerlink" href="#4.4.-Query-for-Object-Dictionary" title="Permalink to this headline">¶</a></h3>
<p>This query returns a python dictionary of all the equipment attributes and mRIDs. The query can be for 1) all objects of a particular <code class="docutils literal notranslate"><span class="pre">objectType</span></code> or 2) for those connected to a particular object based on the <code class="docutils literal notranslate"><span class="pre">objectId</span></code>.</p>
<p>If neither <code class="docutils literal notranslate"><span class="pre">objectType</span></code> or <code class="docutils literal notranslate"><span class="pre">objectId</span></code> is provided, the query will provide all measurements belonging to the model. Query responseType is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_DICT&quot;</span></code></p></li>
</ul>
<p>Allowed parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;:</span></code> “model name mRID” – When specified it searches against that model, if empty it will search against all models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectId&quot;:</span></code> “object mRID” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span></code> “CIM Class” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
<p>Speciying the <code class="docutils literal notranslate"><span class="pre">objectID</span></code> will override any values specified for <code class="docutils literal notranslate"><span class="pre">objectType</span></code>.</p>
<p><strong>Example 1: Querying for model dictionary for an ``”objectID”:``</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_DICT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
    <span class="s2">&quot;objectId&quot;</span><span class="p">:</span> <span class="n">switch_mrids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Example 2: Querying for model dictionary for an ``”objectType”:``</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_DICT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
    <span class="s2">&quot;objectType&quot;</span><span class="p">:</span> <span class="s2">&quot;TransformerTank&quot;</span>
<span class="p">}</span>

<span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
</div>
</div>
<div class="section" id="5.-Querying-for-Object-Measurements">
<h2>5. Querying for Object Measurements<a class="headerlink" href="#5.-Querying-for-Object-Measurements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="5.1.-Object-mRIDs-vs-Measurement-mRIDs">
<h3>5.1. Object mRIDs vs Measurement mRIDs<a class="headerlink" href="#5.1.-Object-mRIDs-vs-Measurement-mRIDs" title="Permalink to this headline">¶</a></h3>
<p>A key concept in GridAPPS-D and CIM XML power system models is the difference between the object mRID of a piece of equipment and multiple measurement mRIDs associated with its control settings and power flow values.</p>
<p>Measurements differ from the state variables (e.g. those obtained from State Estimator or a power flow calculation) in that the values are measured here and not calculated or estimated. Each Measurement is associated to a <em>PowerSystemResource</em>, and in GridAPPS-D for now, also a Terminal that belongs to the same <em>PowerSystemResource</em>. (Non-electrical measurements, for example weather, would not have the Terminal).</p>
<p>The <em>measurementType</em> is a string code from IEC 61850, with the following currently suppported:</p>
<ul class="simple">
<li><p><strong>PNV</strong> – Phase to Neutral Voltage</p></li>
<li><p><strong>VA</strong> – Volt-Amperes (apparent power)</p></li>
<li><p><strong>A</strong> – Amperes (current)</p></li>
<li><p><strong>POS</strong> – Position for switches and transformer taps</p></li>
</ul>
<p>Each measurement object has a <strong>name</strong>, <strong>mRID</strong>, and <strong>phases</strong>. In GridAPPS-D, each phase is measured individually so multi-phase codes like ABC should not be used.</p>
<p>Pos measurements will be discrete, for such things as tap position, switch position, or capacitor bank position.</p>
<p>The others will be Analog, with magnitude and optional angle in degrees.</p>
<p>Each MeasurementValue will have a timeStamp and mRID inherited from IdentifiedObject, so the values can be traced.</p>
</div>
<div class="section" id="5.2.-Querying-for-Measurements">
<h3>5.2. Querying for Measurements<a class="headerlink" href="#5.2.-Querying-for-Measurements" title="Permalink to this headline">¶</a></h3>
<p>This query returns details for the measurements within a model. The query can be for 1) all objects of a particular <code class="docutils literal notranslate"><span class="pre">objectType</span></code> or 2) for those connected to a particular object based on the <code class="docutils literal notranslate"><span class="pre">objectId</span></code>.</p>
<p>If neither <code class="docutils literal notranslate"><span class="pre">objectType</span></code> or <code class="docutils literal notranslate"><span class="pre">objectId</span></code> is provided, the query will provide all measurements belonging to the model. Query responseType is</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;requestType&quot;:</span> <span class="pre">&quot;QUERY_OBJECT_MEASUREMENTS&quot;</span></code></p></li>
</ul>
<p>Allowed parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;modelId&quot;:</span></code> “model name mRID” – When specified it searches against that model, if empty it will search against all models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectId&quot;:</span></code> “object mRID” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;objectType&quot;:</span></code> “CIM Class” – Optional. Specifies the type of objects you wish to return details for.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;resultFormat&quot;:</span></code> “XML” / “JSON” / “CSV” – Will return results as a list in the format selected.</p></li>
</ul>
<p>Speciying the <code class="docutils literal notranslate"><span class="pre">objectID</span></code> will override any values specified for <code class="docutils literal notranslate"><span class="pre">objectType</span></code>.</p>
<p><strong>Example 1: Querying for all measurements for an ``”objectID”:``</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_MEASUREMENTS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
    <span class="s2">&quot;objectId&quot;</span><span class="p">:</span> <span class="n">switch_mrids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Example 2: Querying for all measurements for an ``”objectType”:``</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;modelId&quot;</span><span class="p">:</span> <span class="n">model_mrid</span><span class="p">,</span>
    <span class="s2">&quot;requestType&quot;</span><span class="p">:</span> <span class="s2">&quot;QUERY_OBJECT_MEASUREMENTS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;resultFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;JSON&quot;</span><span class="p">,</span>
    <span class="s2">&quot;objectType&quot;</span><span class="p">:</span> <span class="s2">&quot;ACLineSegment&quot;</span>
<span class="p">}</span>

<span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="5.3.-Filtering-Returned-Data">
<h2>5.3. Filtering Returned Data<a class="headerlink" href="#5.3.-Filtering-Returned-Data" title="Permalink to this headline">¶</a></h2>
<p>After receiving the python dictionary of measurements, it will be necessary to parse it to inlcude just the desired set of measurements. This is done using the method presented in Parsing Returned Data</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">obj_msr_ACline</span> <span class="o">=</span> <span class="n">gapps</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Filter to just values for &#39;data&#39; key</span>
<span class="n">obj_msr_ACline</span> <span class="o">=</span> <span class="n">obj_msr_ACline</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>

<span class="c1"># Chose specific measurement mrid. Screen out those whose type is not PNV. For example,</span>
<span class="n">obj_msr_ACline</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">obj_msr_ACline</span> <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Pos&#39;</span><span class="p">]</span>

<span class="n">obj_msr_ACline</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="6.-GridAPPSD-Python-Shortcut-Methods">
<h2>6. GridAPPSD-Python Shortcut Methods<a class="headerlink" href="#6.-GridAPPSD-Python-Shortcut-Methods" title="Permalink to this headline">¶</a></h2>
<p>A small number of simple PowerGrid Model API queries have pre-built Python functions that can be used without specifying the topic and a particular message.</p>
<div class="section" id="6.1.-Querying-for-mRIDs-of-all-Models">
<h3>6.1. Querying for mRIDs of all Models<a class="headerlink" href="#6.1.-Querying-for-mRIDs-of-all-Models" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.query_model_names</span></code> method is associated with the GridAPPSD connection object and returns a list of all the CIM XML classes of objects present in the Blazegraph for a particular model or all models in the database.</p>
<p>This method will return identical results to the python dictionary message explained above in <a class="reference external" href="#3.1.-Query-for-mRIDs-of-all-Models">Section 3.1</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">query_model_names</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="6.2.-Query-for-CIM-Classes-of-Objects-in-Model">
<h3>6.2. Query for CIM Classes of Objects in Model<a class="headerlink" href="#6.2.-Query-for-CIM-Classes-of-Objects-in-Model" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.query_object_types</span></code> method is associated with the GridAPPSD connection object and returns a list of all the CIM XML classes of objects present in the Blazegraph for a particular model or all models in the database.</p>
<p>This method will return identical results to the python dictionary message explained above in <a class="reference external" href="#4.1.-Query-for-CIM-Classes-of-Objects-in-Model">Section 4.1</a></p>
<p>Allowed parameters are</p>
<ul class="simple">
<li><p>model_id (optional) - when specified, it searches only the particular model identified by the given unique mRID</p></li>
</ul>
<p><strong>1) Query entire Blazegraph database</strong></p>
<p>Leave the arguments blank to search all models in the Blazegraph database</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">gapps</span><span class="o">.</span><span class="n">query_object_types</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p><strong>2) Query for only a particular model</strong></p>
<p>Specify the model MRID as a python string and pass it as a parameter to the method to return only the CIM classes of objects in that particular model</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">model_mrid</span> <span class="o">=</span> <span class="s2">&quot;_49AD8E07-3BF9-A4E2-CB8F-C3722F837B62&quot;</span> <span class="c1"># IEEE 13 Node used for all example queries</span>
<span class="n">gapps</span><span class="o">.</span><span class="n">query_object_types</span><span class="p">(</span><span class="n">model_mrid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="6.3.-Query-for-CIM-Attributes-of-an-Object">
<h3>6.3. Query for CIM Attributes of an Object<a class="headerlink" href="#6.3.-Query-for-CIM-Attributes-of-an-Object" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.query_object</span></code> method is associated with the GridAPPSD connection object and returns a list of all the CIM XML classes of objects present in the Blazegraph for a particular model or all models in the database.</p>
<p>This method will return identical results to the python dictionary message explained above in <a class="reference external" href="#4.3.-Query-for-CIM-Attributes-of-an-Object">Section 4.3</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">model_mrid</span> <span class="o">=</span> <span class="s2">&quot;_49AD8E07-3BF9-A4E2-CB8F-C3722F837B62&quot;</span> <span class="c1"># IEEE 13 Node used for all example queries</span>
<span class="n">object_mrid</span> <span class="o">=</span> <span class="s2">&quot;_2858B6C2-0886-4269-884C-06FA8B887319&quot;</span>

<span class="n">gapps</span><span class="o">.</span><span class="n">query_object</span><span class="p">(</span><span class="n">model_mrid</span><span class="p">,</span> <span class="n">object_mrid</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
</div>
</div>
<div class="section" id="7.-Available-Models-in-Default-Installation">
<h2>7. Available Models in Default Installation<a class="headerlink" href="#7.-Available-Models-in-Default-Installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="7.1.-IEEE-13-Node-Model">
<h3>7.1. IEEE 13 Node Model<a class="headerlink" href="#7.1.-IEEE-13-Node-Model" title="Permalink to this headline">¶</a></h3>
<p>This is a very small distribution test feeder operating at 4.16 kV voltage level. It consists of a single voltage regulator at the substation, overhead and underground lines, shunt capacitor, and an in-line transformer. This feeder is relatively highly loaded and provides a good test of the convergence of the problem for a very unbalanced system.</p>
<p>This model is recommended for debugging as the model is small enough that issues can be traced by hand.</p>
</div>
<div class="section" id="7.2.-IEEE-123-Node-Model">
<h3>7.2. IEEE 123 Node Model<a class="headerlink" href="#7.2.-IEEE-123-Node-Model" title="Permalink to this headline">¶</a></h3>
<p>This models a medium-sized unbalanced distribution system operating at the nominal voltage of 4.16 kV. It consists of overhead and underground lines with single, two and three-phase laterals, along with step regulators and shunt capacitors for voltage regulation. The feeder model is characterized by the unbalanced loading having all combinations of load types (constant current, impedance, and power). It also includes a few switches to allow for the alternate paths for the power flow via feeder
reconfiguration.</p>
<p>This model is recommended for initial app testing and debugging thorugh the first stages of development.</p>
</div>
<div class="section" id="7.3.-IEEE-123-Node-Model-with-PV">
<h3>7.3. IEEE 123 Node Model with PV<a class="headerlink" href="#7.3.-IEEE-123-Node-Model-with-PV" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="7.4.-IEEE-8500-Node-Model">
<h3>7.4. IEEE 8500 Node Model<a class="headerlink" href="#7.4.-IEEE-8500-Node-Model" title="Permalink to this headline">¶</a></h3>
<p>This is a relatively large and realistic radial distribution feeder consisting of MV and LV (secondary) circuits [21]. Unlike other test systems, this feeder also includes 120/240V center-tapped transformers that are commonly deployed in North American power distribution systems. Thus, it allows for users to interchange between the two versions of loading conditions: balanced (208 V) and unbalanced (120 V) in the secondary transformers. Voltage control is possible using a substation LTC
transformer, as well as multiple poletop regulators and capacitor banks. The feeder was created to test scalability and convergence of power flow algorithms on a large unbalanced power distribution system.</p>
<ul class="simple">
<li><p>Length: 170 km</p></li>
<li><p>Nominal voltage: 12.47 kV, 120/240V</p></li>
<li><p>Topology: radial</p></li>
<li><p>Service transformers: yes</p></li>
<li><p>Customers: 1177</p></li>
<li><p>Peak load: 11.1 MW</p></li>
<li><p>Normally-open switches: no</p></li>
</ul>
</div>
<div class="section" id="7.5.-9500-Node-Test-System">
<h3>7.5. 9500 Node Test System<a class="headerlink" href="#7.5.-9500-Node-Test-System" title="Permalink to this headline">¶</a></h3>
<p>The 9500 Node Test System includes three radial distribution feeders with just over 12 MW of load, consisting of both medium voltage and low voltage equipment each supplied by a different distribution substation. The three distribution feeders are connected to each other through Normally-Open switches, which is representative of the way many utilities operate in North America. One feeder represents today’s grid with low penetration of customer-side renewables. The second represents a potential
future grid with microgrids and 100% renewable penetration. The third has no customer resources, a district steam plant, and a utility-scale PV farm. All three feeders have customers connected by low-voltage secondary triplex lines.</p>
<p><img alt="9500-Node-Test-Feeder-Overlay" src="../_images/9500_Node_Test_Feeder_Overlay.png" /></p>
<p><img alt="9500-node-DGs" src="../_images/9500-node-DGs.png" /></p>
</div>
<div class="section" id="7.6.-PNNL-Taxonomy-Feeder">
<h3>7.6. PNNL Taxonomy Feeder<a class="headerlink" href="#7.6.-PNNL-Taxonomy-Feeder" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="7.7.-EPRI-J1-Feeder">
<h3>7.7. EPRI J1 Feeder<a class="headerlink" href="#7.7.-EPRI-J1-Feeder" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="7.8.-UAF-Microgrid">
<h3>7.8. UAF Microgrid<a class="headerlink" href="#7.8.-UAF-Microgrid" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="Adding-New-Models-to-GridAPPS-D">
<h2>Adding New Models to GridAPPS-D<a class="headerlink" href="#Adding-New-Models-to-GridAPPS-D" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/GRIDAPPSD/CIMHub.git</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">SPARQLWrapper</span> <span class="pre">numpy</span> <span class="pre">pandas</span></code></p></li>
</ul>
<p>Copy CIM XML file and UUID file into CIMHub directory.</p>
<p>Open CIMHub directory in terminal:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">CIMHub</span></code></p></li>
</ul>
<p>View the list of feeder models currently in the Blazegraph Database:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">../CIMHub/utils/ListFeeders.py</span></code></p></li>
</ul>
<p>Upload your new model using <code class="docutils literal notranslate"><span class="pre">curl</span></code> to Blazegraph, specifying the name and MRID of your new feeder:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">-s</span> <span class="pre">-D-</span> <span class="pre">-H</span> <span class="pre">'Content-Type:</span> <span class="pre">application/xml'</span> <span class="pre">--upload-file</span> <span class="pre">'yournewmodel.xml'</span> <span class="pre">-X</span> <span class="pre">POST</span> <span class="pre">'http://localhost:8889/bigdata/namespace/kb/sparql'</span></code></p></li>
</ul>
<p>Create the set of txt files containing the measurable objects in your new model using the <code class="docutils literal notranslate"><span class="pre">ListMeasurables</span></code> script:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">../CIMHub/utils/ListMeasureables.py</span> <span class="pre">cimhubconfig.json</span> <span class="pre">yournewmodel</span> <span class="pre">_YOUR-NEW-MODEL-FEEDER-MRID-123ABC456</span></code></p></li>
</ul>
<p>Insert the measurements into Blazegraph using the <code class="docutils literal notranslate"><span class="pre">InsertMeasurements</span></code> script. The measurement MRIDs will be saved into the file <code class="docutils literal notranslate"><span class="pre">uuidfile.json</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">f</span> <span class="pre">in</span> <span class="pre">`ls</span> <span class="pre">-1</span> <span class="pre">*txt`;</span> <span class="pre">do</span> <span class="pre">python3</span> <span class="pre">../CIMHub/utils/InsertMeasurements.py</span> <span class="pre">cimhubconfig.json</span> <span class="pre">$f</span> <span class="pre">uuidfile.json;</span> <span class="pre">done</span></code></p></li>
</ul>
<p>Insert houses into Blazegraph using the <code class="docutils literal notranslate"><span class="pre">InsertHouses</span></code> script. The measurement MRIDs for the houses will be saved into the file <code class="docutils literal notranslate"><span class="pre">uuidfile2.json</span></code>: * <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">../CIMHub/utils/InsertHouses.py</span> <span class="pre">cimhubconfig.json</span> <span class="pre">_YOUR-NEW-MODEL-FEEDER-MRID-123ABC456</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">uuidfile2.json</span></code></p>
<p>Open the GridAPPS-D Viz in a new window and you should be able to start a simulation using your new model</p>
</div>
<div class="section" id="Adding-New-Models-to-the-PowerGrid-Models-GitHub-Repo">
<h2>Adding New Models to the PowerGrid Models GitHub Repo<a class="headerlink" href="#Adding-New-Models-to-the-PowerGrid-Models-GitHub-Repo" title="Permalink to this headline">¶</a></h2>
<p>All models included by default in GridAPPS-D are stored in the <a class="reference external" href="https://github.com/GRIDAPPSD/Powergrid-Models/">PowerGrid Models GitHub repository</a></p>
<hr class="docutils" />
<p><a href="#id3"><span class="problematic" id="id4">|GridAPPS-D\_narrow.png|</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="3.4--Lesson-3.4--Using-the-Configuration-File-API.html" class="btn btn-neutral float-right" title="Using the Configuration File API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="3.2--Lesson-3.2--API-Message-Structure.html" class="btn btn-neutral float-left" title="API Message Structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2021, Battelle Memorial Institute, All rights reserved..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>